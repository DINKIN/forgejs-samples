<!doctype html>

<html lang="en">
<head>
    <meta charset="utf-8">
    <meta name="author" content="GoPro, Inc.">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, minimum-scale=1.0, maximum-scale=1.0" />
    <meta name="apple-mobile-web-app-capable" content="yes" />
    <meta name="apple-mobile-web-app-status-bar-style" content="black" />
    <meta http-equiv="x-ua-compatible" content="IE=edge" />
    <title>ForgeJS sample - Simpliest project</title>
    <meta property="og:title" content="ForgeJS sample - Simpliest project" />
    <meta property="og:description" content="It is the simpliest possible project : a very tiny webpage, a tiny configuration, and only one image to display. This is an example of the minimum required to run a project." />
    <meta property="og:type" content="article" />
    <meta property="og:url" content="https://releases.forgejs.org/latest/samples/projects/simple-project/" />
    <meta property="og:image" content="https://cdn.forgejs.org/grav/images/ForgeJS-logo-1200x630.png" />
    <meta property="og:site_name" content="ForgeJS" />

    <!-- Little styling -->
    <style type="text/css">
        @-ms-viewport { width: device-width; }
        @-o-viewport { width: device-width; zoom: 1.0; min-zoom: 1.0; max-zoom: 1.0; }
        @viewport { width: device-width; zoom: 1.0; min-zoom: 1.0; max-zoom: 1.0; }

        html, body
        {
            height: 100%;
            margin: 0;
            padding: 0;
            overflow: hidden;
        }

        div#container
        {
            height: 100%;
        }
    </style>
</head>

<body>
    <div id="container"></div>

    <script src='https://cdn.jsdelivr.net/npm/webvr-polyfill@latest/build/webvr-polyfill.js'></script>

    <!-- Include the threejs custom build -->
    <script src="../../../sources/lib/three.js/three.r88.custom.js"></script>

    <!-- Include the Hammer.js library -->
    <script src="../../lib/hammer.js/hammer.min.js"></script>

    <!-- Include the ForgeJS library -->
    <script type="text/javascript" src="../../../sources/build/forge.js" ></script>

    <!-- Start ForgeJS -->
    <script type="text/javascript">

        // Create a viewer
        var viewer = new FORGE.Viewer("container", "config.json");

        var polyfill = new WebVRPolyfill({
            // Ensures the polyfill is always active on mobile, due to providing
            // a polyfilled CardboardVRDisplay when no native API is available,
            // and also polyfilling even when the native API is available, due to
            // providing a CardboardVRDisplay when no native VRDisplays exist.
            PROVIDE_MOBILE_VRDISPLAY: true,
            DEBUG: true,
            // Polyfill optimizations
            DIRTY_SUBMIT_FRAME_BINDINGS: true,

            // Flag to disabled the UI in VR Mode.
            CARDBOARD_UI_DISABLED: true,

            // Flag to disable the instructions to rotate your device.
            ROTATE_INSTRUCTIONS_DISABLED: true,

            BUFFER_SCALE: 0.75
        });

        // Polyfill always provides us with `navigator.getVRDisplays`
        polyfill.getVRDisplays().then(displays => {
            // If we have a native VRDisplay, or if the polyfill
            // provided us with a CardboardVRDisplay, use it
            if (displays.length) {
                vrDisplay = displays[0];

                viewer.onConfigLoadComplete.add(function() {
                    viewer.renderer.webGLRenderer.vr.setDevice(vrDisplay);
                    viewer.vr = true;
                    vrDisplay.requestPresent([{ source: viewer.renderer.webGLRenderer.domElement }]);
                }, this);

            }
        });


    </script>
</body>
</html>